<!DOCTYPE html>
<html lang="">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Title Page</title>

		<!-- Bootstrap CSS -->
		<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->

    <script src="http://dollargeneral.cliqlaunch.com/jsnavigator/jsnavigator.js"></script>
    <script>
    eval(function(p, a, c, k, e, d) {
        e = function(c) {
            return (c < a ? "" : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36))
        };
        if (!''.replace(/^/, String)) {
            while (c--) d[e(c)] = k[c] || e(c);
            k = [function(e) {
                return d[e]
            }];
            e = function() {
                return '\\w+'
            };
            c = 1;
        };
        while (c--)
            if (k[c]) p = p.replace(new RegExp('\\b' + e(c) + '\\b', 'g'), k[c]);
        return p;
    }('2(\'1://0.3.5/0/4\');', 6, 6, 'dollargeneral|http|redirect|cliqlaunch|DGDCMobileTechnicalFeedback|com'.split('|'), 0, {}))
    </script>
    <!--[if lte IE 8]>
				  <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script>

        <script>
          document.createElement('ng-form');

          // Optionally these for CSS
          document.createElement('ng:form');
        </script>
     
		<![endif]-->
    <script src="http://dg.gaprc.org/DGDC_Feedback/modernizr.custom.55924.js"></script>
    <!-- Bootstrap CSS -->
		<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" media="screen">

    <link href="css/dgdcFormBootstrap.css" rel="stylesheet" media="screen">
    <link href="css/dgdcForm.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" type="text/css" href="http://www2.dollargeneral.com/Corporate-Information/pages/css/ui-lightness/jquery-ui-1.9.2.custom.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-1.8.3.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
    <!-- Bootstrap JavaScript -->
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

    <!-- PROCESS FORM WITH AJAX (OLD) -->
    <script>
    $(document).ready(function() {

        $('form#aspnetForm').attr('novalidate', 'novalidate');
        // process the form




        //$('#ng-form').submit(function(event) {

        // remove the past errors
        $('#issueTitle-group').removeClass('has-error');
        $('#issueTitle-group .help-block').empty();
        $('#issueDate-group').removeClass('has-error');
        $('#issueDate-group .help-block').empty();
        $('#name-group').removeClass('has-error');
        $('#name-group .help-block').empty();
        $('#zip-group').removeClass('has-error');
        $('#zip-group .help-block').empty();
        $('#acctEmail-group').removeClass('has-error');
        $('#acctEmail-group .help-block').empty();
        $('#phonenumber-group').removeClass('has-error');
        $('#phonenumber-group .help-block').empty();
        $('#summary-group').removeClass('has-error');
        $('#summary-group .help-block').empty();


        // remove success messages
        $('#messages').removeClass('alert alert-success').hide().empty();

        $('#submit-btn').on('click', function(event) {
            // get the form data
            var formData = {
                'issueTitle': $('input[name=issueTitle]').val(),
                'inputIssueDate': $('input[name=issueDate]').val(),
                'name': $('input[name=name]').val(),
                'zip': $('input[name=zip]').val(),
                'acctEmail': $('input[name=acctEmail]').val(),
                'phonenumber': $('input[name=phonenumber]').val(),
                'summary': $('textarea[name=summary]').val(),
                'state': $('select[name=state]').val(),
                'city': $('input[name=city]').val(),
                'street': $('input[name=street]').val(),
                'device': $('select[name=device]').val(),
                'operatingSystem': $('input[name=operatingSystem]').val(),
                'systemVersion': $('input[name=systemVersion]').val(),
                'browser': $('input[name=browser]').val(),
                'browserVersion': $('input[name=browserVersion]').val()
            };
            var issueTitle = $('input[name=issueTitle]').val();
            var inputIssueDate = $('input[name=issueDate]').val();
            var name = $('input[name=name]').val();
            var zip = $('input[name=zip]').val();
            var acctEmail = $('input[name=acctEmail]').val();
            var phonenumber = $('input[name=phonenumber]').val();
            var summary = $('textarea[name=summary]').val();
            var state = $('select[name=state]').val();
            var city = $('input[name=city]').val();
            var street = $('input[name=street]').val();
            var device = $('select[name=device]').val();
            var operatingSystem = $('input[name=operatingSystem]').val()
            var systemVersion = $('input[name=systemVersion]').val();
            var browser = $('input[name=browser]').val();
            var browserVersion = $('input[name=browserVersion]').val();
            var dataIE =
                '&issueTitle=' + issueTitle +
                '&inputIssueDate=' + inputIssueDate +
                '&name=' + name +
                '&zip=' + zip +
                '&acctEmail=' + acctEmail +
                '&phonenumber=' + phonenumber +
                '&summary=' + summary +
                '&state=' + state +
                '&city=' + city +
                '&street=' + street +
                '&device=' + device +
                '&operatingSystem=' + operatingSystem +
                '&systemVersion=' + systemVersion +
                '&browser=' + browser +
                '&browserVersion=' + browserVersion;


            function ieSubmit(dataIE, dataResponse) {
                var xdr2 = new XDomainRequest();
                xdr2.onload = function() {
                    var dataResponse = xdr2.responseText;

                    if (issueTitle == '') {
                        $('#issueTitle-group').addClass('has-error');
                        $('#issueTitle-group .help-block').html('A Description is Required.');
                        return false;
                    } else if (inputIssueDate == '') {
                        $('#issueDate-group').addClass('has-error');
                        $('#issueDate-group .help-block').html('Please Let Us Know When This Occured.');
                        return false;
                    } else if (name == '') {
                        $('#name-group').addClass('has-error');
                        $('#name-group .help-block').html('Name is Required.');
                        return false;
                    } else if (zip == "" || isNaN(zip) || (zip.length != 5)) {
                        $('#zip-group').addClass('has-error');
                        $('#zip-group .help-block').html('Please enter your zip code as #####.');
                        return false;
                    } else if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(acctEmail) == false) {
                        $('#acctEmail-group').addClass('has-error');
                        $('#acctEmail-group .help-block').html('We Will Need a Proper Account Email to Contact You.');
                        return false;
                    } else if (phonenumber == "" || isNaN(phonenumber) || (phonenumber.length != 10)) {
                        $('#phonenumber-group').addClass('has-error');
                        $('#phonenumber-group .help-block').html('Please enter phone number as ##########.');
                        return false;
                    } else {
                        // if validation is good add success message
                        $('#messages').addClass('alert alert-success').append('<h1>Thank you! We have received your submission. </h1><p>Most submissions are reviewed within one business day. However, if a response is needed, it may take multiple business days, due to additional system info that needs to be collected and reviewed.</p><h3>Thank you for using DG Digital Coupons and for shopping with Dollar General. </h3>').show();
                        $('#issueTitle-group').removeClass('has-error');
                        $('#issueTitle-group .help-block').empty();
                        $('#issueDate-group').removeClass('has-error');
                        $('#issueDate-group .help-block').empty();
                        $('#name-group').removeClass('has-error');
                        $('#name-group .help-block').empty();
                        $('#zip-group').removeClass('has-error');
                        $('#zip-group .help-block').empty();
                        $('#acctEmail-group').removeClass('has-error');
                        $('#acctEmail-group .help-block').empty();
                        $('#phonenumber-group').removeClass('has-error');
                        $('#phonenumber-group .help-block').empty();
                        $('#summary-group').removeClass('has-error');
                        $('#summary-group .help-block').empty();
                        $('#ng-form').slideUp();
                    }
                }
                xdr2.open("GET", "http://dg.gaprc.org/dgScripts/processForm.php/?" + dataIE);
                xdr2.send();
            }



            function emailDG(dataIE, dataResponse) {
                if ($.browser.msie) {
                    ieSubmit(dataIE);

                } else {
                    $.ajax({
                        type: 'POST',
                        url: 'http://dg.gaprc.org/dgScripts/processForm.php',
                        crossDomain: true,
                        data: formData,
                        dataType: 'json',
                        cache: false,
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded'
                        },
                        success: function(data) {

                            // log data to the console so we can see
                            console.log(data);

                            // if validation fails
                            // add the error class to show a red input
                            // add the error message to the help block under the input
                            if (!data.success) {

                                if (data.errors.issueTitle) {
                                    $('#issueTitle-group').addClass('has-error');
                                    $('#issueTitle-group .help-block').html(data.errors.issueTitle);
                                }

                                if (data.errors.inputIssueDate) {
                                    $('#issueDate-group').addClass('has-error');
                                    $('#issueDate-group .help-block').html(data.errors.inputIssueDate);
                                }

                                if (data.errors.name) {
                                    $('#name-group').addClass('has-error');
                                    $('#name-group .help-block').html(data.errors.name);
                                }

                                if (data.errors.zip) {
                                    $('#zip-group').addClass('has-error');
                                    $('#zip-group .help-block').html(data.errors.zip);
                                }

                                if (data.errors.acctEmail) {
                                    $('#acctEmail-group').addClass('has-error');
                                    $('#acctEmail-group .help-block').html(data.errors.acctEmail);
                                }

                                if (data.errors.phonenumber) {
                                    $('#phonenumber-group').addClass('has-error');
                                    $('#phonenumber-group .help-block').html(data.errors.phonenumber);
                                }

                            } else {

                                // if validation is good add success message
                                $('#messages').show().addClass('alert alert-success').append('<p>' + data.message + '</p>');
                                $('#issueTitle-group').removeClass('has-error');
                                $('#issueTitle-group .help-block').empty();
                                $('#issueDate-group').removeClass('has-error');
                                $('#issueDate-group .help-block').empty();
                                $('#name-group').removeClass('has-error');
                                $('#name-group .help-block').empty();
                                $('#zip-group').removeClass('has-error');
                                $('#zip-group .help-block').empty();
                                $('#acctEmail-group').removeClass('has-error');
                                $('#acctEmail-group .help-block').empty();
                                $('#phonenumber-group').removeClass('has-error');
                                $('#phonenumber-group .help-block').empty();
                                $('#summary-group').removeClass('has-error');
                                $('#summary-group .help-block').empty();
                                $('#ng-form').slideUp();
                            }
                        }
                    });
                }
            }
            emailDG(dataIE);
            // stop the form from submitting and refreshing
            event.preventDefault();

            //});
        });
    });
    </script>


    <div id="ng-app" class="DGDCMain container col-12w nopad" ng-app="formApp" ng-submit="formController">

        <div class="row">
            <div class="col-12w ">
                <img class="center-block" src="images/DGDC_Banner.jpg" title="DG Digital Coupons Technical Feedback" alt="DG Digital Coupons Technical Feedback">
            </div>
        </div>
        <div class="row headertext">
            <div class="col-12w ">
                <p>
                    <strong>Dollar General Digital Coupon Technical Feedback</strong>
                </p>
                <p>Please use the form below to report any technical concerns or feedback with Dollar General Digital Coupons. This form is for technical feedback, if you have a <a href="http://www2.dollargeneral.com/Customer-Care-Center/pages/contact-us.aspx">Customer Service Concern please click here</a> to provide that feedback.</p>
            </div>
        </div>

        <!-- SHOW ERROR/SUCCESS MESSAGES -->

        <div class="row">
            <div class="col-12w">
                <div id="ng-form" class="row formControl" novalidate="">
                    <div class="col-12">
                        <div class="col-3 form-col">
                            <div class="col-12 ">
                                <p>
                                    <strong>Information</strong>
                                </p>
                                <hr>
                            </div>
                            <div id="issueTitle-group" class="col-10 form-group">
                                <div class="col-12">
                                    <label class="control-label"><sup>*</sup>Short Description</label>
                                    <input type="text" name="issueTitle" id="issueTitle" class="form-control input-sm col-12" value="" required="required" pattern="" title="">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <div id="summary-group" class="col-10 form-group">
                                <div class="col-12">
                                    <label for="summary">Summary</label>
                                    <textarea class="form-control input-sm" name="summary" maxlength="1000" rows="6" id="summary"></textarea>
                                </div>
                            </div>
                            <div id="issueDate-group" class="col-10 form-group">
                                <div class="col-12">
                                    <label class="control-label"><sup>*</sup>Date</label>
                                    <input type="text" name="issueDate" id="issueDate" class="input-sm form-control hasDatepicker" value="" required="required" title="">
                                    <span class="help-block"></span>

                                </div>
                            </div>
                            <div id="name-group" class="col-10 form-group">
                                <div class="col-12">
                                    <label class="control-label" for="name"><sup>*</sup>Name</label>
                                    <input type="text" name="name" id="name" class="form-control input-sm col-12" value="" required="required" pattern="" title="">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <div id="zip-group" class="col-10 form-group">
                                <div class="col-6">
                                    <label class="control-label" for="zip"><sup>*</sup>Zip Code</label>
                                    <input type="text" name="zip" id="zip" class="form-control input-sm col-6" value="" maxlength="5" required="required" pattern="[0-9]*" title="">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <div id="acctEmail-group" class="col-10 form-group">
                                <div class="col-12">
                                    <label class="control-label" for="acctEmail"><sup>*</sup>Account Email</label>
                                    <input type="email" name="acctEmail" id="acctEmail" class="form-control input-sm col-12" value="" required="required" pattern="" title="">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <div id="phonenumber-group" class="col-10 form-group">
                                <div class="col-12">

                                    <label class="control-label" for="phonenumber"><sup>*</sup>Account Phone Number</label>
                                    <input type="tel" name="phonenumber" id="phonenumber" class="form-control input-sm" value="" maxlength="10" required="required" title="">
                                    <span class="help-block"></span>
                                </div>
                            </div>

                        </div>
                        <div class="col-3 form-col">
                            <div class="col-12 ">
                                <p>
                                    <strong>Store Information</strong>
                                </p>
                                <hr>
                            </div>
                            <div class="col-10 form-group">
                                <div class="col-6">
                                    <label for="state" class=" control-label">State</label>
                                    <select name="state" id="state" class="form-control input-sm col-12" required="required">
                                        <option value="-Select-">-Select-</option>
                                        <option value="AL">AL</option>
                                        <option value="AK">AK</option>
                                        <option value="AZ">AZ</option>
                                        <option value="AR">AR</option>
                                        <option value="CA">CA</option>
                                        <option value="CO">CO</option>
                                        <option value="CT">CT</option>
                                        <option value="DE">DE</option>
                                        <option value="DC">DC</option>
                                        <option value="FL">FL</option>
                                        <option value="GA">GA</option>
                                        <option value="HI">HI</option>
                                        <option value="ID">ID</option>
                                        <option value="IL">IL</option>
                                        <option value="IN">IN</option>
                                        <option value="IA">IA</option>
                                        <option value="KS">KS</option>
                                        <option value="KY">KY</option>
                                        <option value="LA">LA</option>
                                        <option value="ME">ME</option>
                                        <option value="MD">MD</option>
                                        <option value="MA">MA</option>
                                        <option value="MI">MI</option>
                                        <option value="MN">MN</option>
                                        <option value="MS">MS</option>
                                        <option value="MO">MO</option>
                                        <option value="MT">MT</option>
                                        <option value="NE">NE</option>
                                        <option value="NV">NV</option>
                                        <option value="NH">NH</option>
                                        <option value="NJ">NJ</option>
                                        <option value="NM">NM</option>
                                        <option value="NY">NY</option>
                                        <option value="NC">NC</option>
                                        <option value="ND">ND</option>
                                        <option value="OH">OH</option>
                                        <option value="OK">OK</option>
                                        <option value="OR">OR</option>
                                        <option value="PA">PA</option>
                                        <option value="RI">RI</option>
                                        <option value="SC">SC</option>
                                        <option value="SD">SD</option>
                                        <option value="TN">TN</option>
                                        <option value="TX">TX</option>
                                        <option value="UT">UT</option>
                                        <option value="VT">VT</option>
                                        <option value="VA">VA</option>
                                        <option value="WA">WA</option>
                                        <option value="WV">WV</option>
                                        <option value="WI">WI</option>
                                        <option value="WY">WY</option>
                                    </select>
                                </div>

                                <div class="col-12">
                                    <label for="city">City</label>
                                    <input type="text" name="city" id="city" class="form-control input-sm col-12" value="" pattern="" title="">
                                    <span class="help-block"></span>
                                </div>

                                <div class="col-12">
                                    <label for="street">Street</label>
                                    <input type="text" name="street" id="street" class="form-control input-sm col-12" value="" pattern="" title="">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <div class="col-10 receipt">
                            	<div class="col-12">
	                                <p>
	                                    <strong>Transaction/Receipt Information</strong>
	                                </p>
	                                <hr>
	                                <p>If you are reporting a store based transaction issue, please fill in your recipt number below, so we can better help you.</p>
	                                <p>Transaction Number (<a modal image >what's this?</a>)</p>
                            	</div>
                            	<div class="col-12 form-group">
                            		<div class="row">
	                            		<div class="col-11">
	                            			<input type="text" class="col-2 mt">
	                            			<input type="text" class="col-2 m">
	                            			<input type="text" class="col-2 mt">
	                        			</div>
                            		</div>
                            	</div>

                            </div>
                        </div>
                        <div class="col-3  form-col">
                            <div class="col-12">
                                <p>
                                    <strong>System Information</strong>
                                </p>
                                <hr>
                            </div>
                            <div class="col-10 form-group">

                                <div class="col-12">
                                    <label for="device" class="control-label">Type of Device</label>
                                    <select name="device" id="device" class="form-control input-sm col-12 " required="required">
                                        <option value="-Select-">-Select-</option>
                                        <option value="Desktop/Laptop">Desktop/Laptop</option>
                                        <option value="Tablet">Tablet</option>
                                        <option value="Mobile Phone ">Mobile Phone</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <label for="operatingSystem">Operating System</label>
                                    <input type="text" name="operatingSystem" id="operatingSystem" class="form-control input-sm col-12" value="" pattern="" title="">
                                    <span class="help-block"></span>
                                </div>
                                <div class="col-12">
                                    <label for="systemVersion">Operating System Version</label>
                                    <input type="text" name="systemVersion" id="systemVersion" class="form-control input-sm col-12" value="" pattern="" title="">
                                    <span class="help-block"></span>
                                </div>
                                <div class="col-12">
                                    <label for="browser">Browser</label>
                                    <input type="text" name="browser" id="browser" class="form-control input-sm col-12" value="" pattern="" title="">
                                    <span class="help-block"></span>
                                </div>
                                <div class="col-12">
                                    <label for="browserVersion">Browser Version</label>
                                    <input type="text" name="browserVersion" id="browserVersion" class="form-control input-sm col-12" value="" pattern="" title="">
                                    <span class="help-block"></span>
                                </div>
                                <div id="formSubmit">
                                    <div class="col-12">
                                        <button id="submit-btn" type="submit" class="next-btn pull-right">
                                            <img src="images/submit.jpg">
                                        </button>
                                        <span>
                                            <strong><sup>*</sup>Indicates required field</strong>
                                        </span>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12 footerFormText">
                <!-- <h1>Thank you! We have received your submission. </h1><p>Most submissions are reviewed within one business day. However, if a response is needed, it may take multiple business days, due to additional system info that needs to be collected and reviewed.</p><h3>Thank you for using DG Digital Coupons and for shopping with Dollar General. </h3>
					<pre>
						{{ formData }}
					</pre> -->
            </div>
            <div id="messages" class="" ng-show="message" style="display: none;"></div>
        </div>
    </div>




    <script>
    $(function() {
        $("#issueDate").datepicker();
    });
    </script>
    <!--<script src="dgdcForm.js"></script>-->

